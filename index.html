<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Gizra</title>

	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Hakim El Hattab">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css" id="theme">
	<link href="//fonts.googleapis.com/css?family=Abril+Fatface" rel="stylesheet" type="text/css">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">

			<!-- About  -->
			<section data-background="https://cloud.githubusercontent.com/assets/125707/12092123/dd49649a-b303-11e5-9355-e49a3881f5bd.png">
				<span style="background-color: black; opacity: 0.85; padding: 20px 40px;">
						<span style="font-family: Abril Fatface; color: #e27058; font-size: 50px;">
						</span>
						<span>Amitai Burstein</span>
						<span class="">
							// @amitaibu // #TheGizraWay
						</span>
				</span>

				<aside class="notes" data-markdown>
				</aside>
			</section>

			<section data-background="https://cloud.githubusercontent.com/assets/125707/15116391/bcacda50-15c8-11e6-828c-c7922362df7f.jpg">
				<div style="background-color: black; opacity: 0.75; padding: 20px;">
					<h2>Elm</h2>
					A different approach to frontend webapps
				</div>

				<aside class="notes" data-markdown>
					* Let's understand what it solves
					* Agree or disagree, all JS frameworks have in common use JS
					* If JS ninja ok
					* Pragmatic approach: Quickest, cheapest, solid, and keep devs moral
					* Bash Angular 1. Elm provides better tools to deal
				</aside>
			</section>

			<section>
				<h3>Elm Architecture</h3>
				<aside class="notes" data-markdown>
					* Set of best practices
					* How to structure your application
					* How to connect components
					* Model -> Update -> View
					* Consists of a few prinicpels
				</aside>
			</section>

			<section>
        <div>
          <h3>Principle 1: Single source of truth</h3>
          <small>The state of your whole application is stored in a record tree</small>
        </div>

				<aside class="notes" data-markdown>
					* Saw first time it resonated
					* Angular 1 - where is your state? Router. Services.
					* Async nature of JS
					* Condition of your webapp
					* In case of bugs, hard to reproduce
					* Maybe counter intiutive (seperation of concerns) - control webapp
		    </aside>
      </section>

      <section>
        <div>
          <h3>Principle 2: State is read-only</h3>
          <small>The only way to mutate the state is to emit an action describing what happened</small>
        </div>

				<aside class="notes" data-markdown>
					* It's 2016. The root of all evil in this worlds. heart worming, positive, non-cynical,
					  world  - 2 way data binding
					* Angular 1 site - Save me so many jQuery lines
					* What made us love it, is what we now hate
					* If view changes model, chain of actions. Can't control state
		    </aside>
      </section>

			<section>
				<pre style="width: 100%;"><code data-trim class>
module Counter exposing (..)

import Html exposing (..)
import Html.Attributes exposing (..)
import Html.Events exposing (onClick)

-- MODEL

type alias Model =
    Int

initialModel : Model
initialModel =
    0

init : ( Model, Cmd Msg )
init =
    ( initialModel
    , Cmd.none
    )

-- UPDATE

type Msg
    = Decrement
    | Increment


update : Msg -> Model -> ( Model, Cmd Msg )
update action model =
    case action of
        Decrement ->
            ( model - 1
            , Cmd.none
            )

        Increment ->
            ( model + 1
            , Cmd.none
            )

-- VIEW

view : Model -> Html Msg
view model =
    div []
        [ button [ onClick Decrement ] [ text "-" ]
        , div [] [ text (toString model) ]
        , button [ onClick Increment ] [ text "+" ]
        ]

				</code></pre>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
--

type alias User =
    { avatarUrl : String
    , name : String
    }

viewAvatar : String -> Html a
viewAvatar url =
    img [ src url ] []


--
					</code>
				</pre>
				<aside class="notes" data-markdown>
					* This looks ok
		    </aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
--

type alias User =
    { avatarUrl : String
    , name : String
    }

viewAvatar : String -> Html a
viewAvatar url =
    img [ src url ] []


main = viewAvatar "But this isn't a URL!"
					</code>
				</pre>
				<aside class="notes" data-markdown>
					* This looks ok
		    </aside>
			</section>


			<section>
				<h3>Compile Error Vs Runtime Mistakes</h3>

				<aside class="notes" data-markdown>
					* No Runtime errors in Elm
					* Shift as much runtime mistakes to compile time error
				</aside>
			</section>

			<section>
				<h2>Types 101</h2>
			</section>

			<!-- Bool type -->
			<section>
				<pre>
					<code class="elm" data-trim>
type Bool = False | True
					</code>
				</pre>
			</section>

			<!-- User type -->
			<section>
				<pre>
					<code class="elm" data-trim>
type UserType = Anonymous | Pending Integer | Authenticated String
					</code>
				</pre>
				<aside class="notes" data-markdown>
					* User type can be either one.
					* Pending and Authenticated are wrapping a value.
		    </aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
--

type alias User =
    { avatarUrl : String
    , name : String
    }

viewAvatar : String -> Html a
viewAvatar url =
    img [ src url ] []


--
					</code>
				</pre>
				<aside class="notes" data-markdown>
					* This looks ok
		    </aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type Url = Url String

type alias User =
    { avatarUrl : Url
    , name : String
    }

viewAvatar : Url -> Html a
viewAvatar url =
    let
        (Url val) = url
    in
        img [ src val ] []
					</code>
				</pre>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type Url = Url String

type alias User =
    { avatarUrl : Url
    , name : String
    }

viewAvatar : Url -> Html a
viewAvatar (Url val) =
    img [ src val ] []


--
					</code>
				</pre>
			</section>

			<section>
				<img src="https://cloud.githubusercontent.com/assets/125707/16045523/727ba1c8-3251-11e6-8707-1cfb30ba4173.jpg" alt="" />
			</section>

			<section>
				<h2>Maybe values</h2>
			</section>

			<!-- User type Url -->
			<section>
				<pre>
					<code class="elm" data-trim>
type alias User =
    { avatarUrl : Url
    , name : String
    }

emptyUser =
    { avatarUrl = Url ""
    , name = ""
    }

type alias Model =
    { activePage : Page
    , user : User
    }

emptyModel =
    { activePage = Login
    , user = emptyUser
    }
					</code>
				</pre>

				<aside class="notes" data-markdown>
					* Example without Maybe. But this is wrong.
				</aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type alias Model =
    { activePage : Page
    , user : Maybe User
    }

emptyModel =
    { activePage = Login
    , user = Nothing
    }

--
					</code>
				</pre>

				<aside class="notes" data-markdown>
					* We know there is no User.
				</aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>

type alias Model =
    { activePage : Page
    , user : Maybe User
    }

emptyModel =
    { activePage = Login
    , user = Just { name = "Amitai"
                  , avatarUrl = "https://example.com/avatar"
                  }
    }
					</code>
				</pre>

				<aside class="notes" data-markdown>
					* The use of "Just"
				</aside>
			</section>

			<section>
				<h2>But we can do better</h2>
			</section>


			<section>
				<pre>
					<code class="elm" data-trim>
{-|
  * `NotAsked` - We haven't asked for the data yet.
  * `Loading` - We've asked, but haven't got an answer yet.
  * `Failure` - We asked, but something went wrong. Here's the error.
  * `Success` - Everything worked, and here's the data.
-}
type RemoteData e a
    = NotAsked
    | Loading
    | Failure e
    | Success a
					</code>
				</pre>

				<aside class="notes" data-markdown>
				</aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
{-|
  * `NotAsked` - We haven't asked for the data yet.
  * `Loading` - We've asked, but haven't got an answer yet.
  * `Failure` - We asked, but something went wrong. Here's the error.
  * `Success` - Everything worked, and here's the data.
-}
type RemoteData e a
    = NotAsked
    | Loading
    | Failure e
    | Success a
					</code>
				</pre>

				<aside class="notes" data-markdown>
				</aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type alias WebData a =
    RemoteData Http.Error a
					</code>
				</pre>

				<aside class="notes" data-markdown>
				</aside>
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type alias Model =
    { activePage : Page
    , user : WebData User
    }


emptyModel =
    { activePage = Login
    , user = NotAsked
    }
					</code>
				</pre>

				<aside class="notes" data-markdown>
					* Using webdata, starting with NotAsked
				</aside>
			</section>

			<!-- Translation -->
			<section>
				<img src="http://www.gizra.com/assets/images/posts/elm-i18n/image1.gif" alt="" />
			</section>

			<section>
				<pre>
					<code class="elm" data-trim>
type Language
    = English
    | Spanish


type TranslationId
    = Login
    | WelcomeBack { name : String }


type alias TranslationSet =
    { english : String
    , spanish : String
    }


translations : TranslationId -> TranslationSet
translations id =
    case id of
        Login ->
            { english = "Please login"
            , spanish = "Por favor haga login"
            }

        WelcomeBack val ->
            { english = "Welcome back " ++ val.name
            , spanish = "Bienvenido " ++ val.name
            }


translate : Language -> TranslationId -> String
translate lang id =
    case lang of
        English ->
            .english <| translations id

        Spanish ->
            .spanish <| translations id

					</code>
				</pre>

				<aside class="notes" data-markdown>
					* Using webdata, starting with NotAsked
				</aside>
			</section>

			<section>
				<h2>Our evaluation process</h2>
			</section>


			<!-- Timewatch -->
			<section data-background-video="http://zippy.gfycat.com/ClassicSplendidDikkops.webm" data-background-video-loop>
				<aside class="notes" data-markdown>
					* Office timewatch
				</aside>
			</section>

			<!-- Hedley -->
			<section>
				<small>https://github.com/amitaibu/elm-hedley</small>
			 <div>
				 <img src="https://cloud.githubusercontent.com/assets/125707/11417413/ae2f2d96-941f-11e5-8482-d68a936ad083.jpg" />
			 </div>

			 <aside class="notes" data-markdown>
				 * What helps us decide to transition from Angular, jump over react to Elm.
				 * Typical webapp, login, github
			 </aside>
			</section>

			<section data-background-video="http://zippy.gfycat.com/FickleTangibleAntlion.webm" data-background-video-loop>
				<aside class="notes" data-markdown>
					* Router
					* Maps
					* User interactions to filter events
				</aside>
			</section>

			<section data-background-video="http://zippy.gfycat.com/RegularWelltodoEider.webm" data-background-video-loop>

				<aside class="notes" data-markdown>
					* Uploading files with drag and drop
					* This can be your own Drupal site
					* Can by hybrid
				</aside>
			</section>

			<section>
				<h2>Yeoman Generator</h2>
				<small>https://github.com/Gizra/generator-elmlang</small>
				<div>
					<ul>
						<li>Gulp</li>
						<li>browserSync</li>
						<li>Auto-compile</li>
						<li>Sass</li>
						<li>Bundle and Deploy to gh-pages</li>
					</ul>
				</div>
			</section>

			<section>
				<img src="https://cloud.githubusercontent.com/assets/125707/11408428/a63eb646-93c1-11e5-8e6d-b5dd54070018.jpg" />

				<aside class="notes" data-markdown>
					* Structured app
					* A few tests
					* Travis
				</aside>
			</section>

			<section>
				<div class="">
					What about NodeJs?
				</div>
				<small>My functional programming journey</small>

				<aside class="notes" data-markdown>
					* I started with Elm
					* Looked at Symfony as holy grail (decoupled, composition)
					* Objects immutable, might have state
				</aside>
			</section>

			<!-- Yesod -->
			<section>
				<img src="https://cloud.githubusercontent.com/assets/125707/15009836/78fd76e6-11f1-11e6-9d3a-355b7098ba22.jpg" alt="" class="stretch"/>

				<aside class="notes" data-markdown>
					* For more complex sites with have Drupal and NodeJs as proxy server
				</aside>
			</section>

			<!-- Last slide -->
			<section data-background="https://cloud.githubusercontent.com/assets/125707/11408842/6abc3708-93c4-11e5-8515-bf92a59cf8ea.jpg">
				<div style="background-color: black; opacity: 0.85; padding: 20px;">
					<span style="font-family: Abril Fatface; color: #e27058; font-size: 50px;">
						gizra
					</span>
					| We now have a US office. Seriously.
				</div>
			</section>


		</div>

	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: false,
			progress: false,
			history: true,
			center: true,

			transition: 'none', // none/fade/slide/convex/concave/zoom

			// Optional reveal.js plugins
			dependencies: [{
				src: 'lib/js/classList.js',
				condition: function() {
					return !document.body.classList;
				}
			}, {
				src: 'plugin/markdown/marked.js',
				condition: function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src: 'plugin/markdown/markdown.js',
				condition: function() {
					return !!document.querySelector('[data-markdown]');
				}
			}, {
				src: 'plugin/highlight/highlight.js',
				async: true,
				callback: function() {
					hljs.initHighlightingOnLoad();
				}
			}, {
				src: 'plugin/zoom-js/zoom.js',
				async: true
			}, {
				src: 'plugin/notes/notes.js',
				async: true
			}, {
				src: 'socket.io/socket.io.js',
				async: true
			}, {
				src: 'plugin/notes-server/client.js',
				async: true
			}]
		});
	</script>

</body>

</html>
